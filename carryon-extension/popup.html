<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>CarryOn Summary</title>
    <style>
      :root {
        --bg: #0f172a;
        --card: #0b1220;
        --fg: #e2e8f0;
        --muted: #94a3b8;
        --border: #334155;
        --brand: #7c3aed;
        --btn-fg: #ffffff;
      }
      @media (prefers-color-scheme: light) {
        :root {
          --bg: #f1f5f9;
          --card: #ffffff;
          --fg: #0f172a;
          --muted: #64748b;
          --border: #cbd5e1;
          --brand: #7c3aed;
          --btn-fg: #ffffff;
        }
      }
      * { box-sizing: border-box; }
      body { font-family: system-ui, sans-serif; margin: 0; width: 360px; color: var(--fg); background: linear-gradient(180deg, var(--card), var(--bg)); }
      .header { display: flex; align-items: center; justify-content: space-between; padding: 12px 14px; border-bottom: 1px solid var(--border); }
      .brand { display: flex; align-items: center; gap: 8px; font-weight: 700; }
      .brand .logo { width: 20px; height: 20px; background: var(--brand); border-radius: 4px; }
      .container { padding: 12px 14px; }
      .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 12px; }
      .row { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
      label { font-size: 12px; color: var(--muted); }
      input[type="number"], input[type="text"] { padding: 8px; border: 1px solid var(--border); border-radius: 8px; color: var(--fg); background: var(--card); }
      textarea { width: 100%; height: 140px; padding: 10px; border: 1px solid var(--border); border-radius: 8px; color: var(--fg); background: var(--card); }
      .actions { display: flex; gap: 8px; margin-top: 8px; }
      .btn { padding: 8px 12px; border-radius: 8px; border: 1px solid var(--border); background: transparent; color: var(--fg); cursor: pointer; }
      .btn.primary { background: var(--brand); color: var(--btn-fg); border-color: transparent; font-weight: 600; }
      .summary { white-space: pre-wrap; border: 1px solid var(--border); padding: 10px; border-radius: 8px; min-height: 120px; }
      .status { margin-top: 8px; font-size: 12px; color: var(--muted); }
      details { margin-top: 8px; }
      details summary { cursor: pointer; color: var(--muted); }
    </style>
  </head>
  <body>
    <div class="header">
      <div class="brand"><img src="icons/icon32.png" alt="CarryOn" class="logo" />CarryOn Summary</div>
      <button class="btn" id="openOptions">Settings</button>
    </div>
    <div class="container">
      <div class="card">
        <div class="row" style="margin-bottom:8px">
          <button class="btn" id="grab">Grab Selection</button>
          <label><input type="checkbox" id="auto" checked /> Auto size</label>
          <label>Sentences <input id="target" type="number" min="4" max="80" value="16" /></label>
        </div>
        <textarea id="input" placeholder="Paste content here..."></textarea>
        <div class="actions">
          <button class="btn primary" id="run">Create Summary</button>
          <button class="btn" id="copy">Copy</button>
          <button class="btn" id="download">Download .txt</button>
        </div>
        <div class="status" id="status"></div>
        <h4 style="margin:12px 0 6px">Summary</h4>
        <div id="summary" class="summary"></div>
        <details>
          <summary>Advanced</summary>
          <div class="row" style="margin-top:8px">
            <label style="flex:1">API Base <input id="api" type="text" placeholder="https://your-backend.example.com" style="width:100%" /></label>
            <button class="btn" id="save">Save</button>
          </div>
        </details>
      </div>
    </div>
    <script src="popup.js"></script>
  </body>
 </html>
